<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/content.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="js/jquery.keyframes.js"></script>
    <script src="js/jquery.selectbox-0.2.js"></script>
    <script src="js/swiper.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/jquery.outback.js"></script>
    <script src="js/ejs.min.js"></script>
    <script src="js/jquery.cookie.js"></script>
    <script src="js/commonDive.js"></script>
    <script src="js/commonCult.js"></script>
</head>
<body>

<div id="wrap" class="wWhatson">  <!-- what's on 페이지 : wWhatson -->

    <!-- #wContainer -->
    <div id="wContainer" class="whatson-wrap ob-page ob-page-theme-a" data-role="page" tabindex="0">



        <section class="calendar-wrap">
            <div class="inner-wrap tab-wrap">

                <!-- 캘린더 뷰 -->
                <div id="calenderView" class="tab-cont active"> <!-- 초기 활성화 active -->
                    <h3 class="sr-only">캘린더 리스트</h3>
                    <section class="box-section">
                        <div id="monthlyTable" class="monthly-table">
                            <div class="table-type-calendar" id="cultureCalendar_View">

                            </div>

                            <button class="btn-today" id="calendar_today">Reset</button>

                        </div>

                        <div class="monthly-whatson" id="cultureCalendar_NowWrap">
                            <!-- now -->
                            <section class="now-wrap" id="cultureCalendar_Now">

                            </section>
                            <!-- now// -->
                            <!-- Upcoming -->
                            <section class="invisual upcoming-wrap" id="cultureCalendar_UpcomingWrap" style="display: none">

                            </section>
                            <!-- Upcoming// -->

                            <!-- past -->
                            <section class="invisual past-wrap" id="cultureCalendar_PastWrap" style="display: none">

                            </section>
                            <!-- past// -->
                        </div>
                    </section>
                </div>
                <!-- 캘린더 뷰// -->

                <!-- 필터 뷰 -->
                <div id="filterView" class="tab-cont">
                    <h3 class="sr-only">캘린더 필터링</h3>
                    <div class="calendar-filter">
                        <div class="select-space">
                            <button class="btn-sel-space all" onclick="spaceOpen();"><span>전체</span></button>
                            <!-- 지역공간 선택 팝업 -->
                            <div id="spacePopup" class="space-popup">
                                <h3 class="sr-only">공간 선택</h3>

                                <ul class="select-list">
                                    <li class="list-all">
                                        <span class="radioTy-ty1"><input type="radio" id="filter-all" name="filterPlaceSpace" value="" checked="checked" /><label for="filter-all">전체</label></span>
                                    </li>
                                    <li class="list-space">
                                        <span class="radioTy-ty1"><input type="radio" id="filter-place-1" name="filterPlaceSpace" value="A" /><label for="filter-place-1">이태원</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-place-2" name="filterPlaceSpace" value="B" /><label for="filter-place-2">청담</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-place-3" name="filterPlaceSpace" value="C" /><label for="filter-place-3">가회</label></span>
                                    </li>
                                    <li class="list-culture">
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-1" name="filterPlaceSpace" value="1" /><label for="filter-space-1">디자인 라이브러리</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-2" name="filterPlaceSpace" value="2" /><label for="filter-space-2">트래블 라이브러리 </label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-3" name="filterPlaceSpace" value="3" /><label for="filter-space-3">뮤직 라이브러리</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-4" name="filterPlaceSpace" value="4" /><label for="filter-space-4">쿠킹 라이브러리</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-5" name="filterPlaceSpace" value="7" /><label for="filter-space-5">언더스테이지</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-6" name="filterPlaceSpace" value="6" /><label for="filter-space-6">바이닐앤플라스틱</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-7" name="filterPlaceSpace" value="5" /><label for="filter-space-7">스토리지</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-8" name="filterPlaceSpace" value="8" /><label for="filter-space-8">슈퍼콘서트</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-11" name="filterPlaceSpace" value="11" /><label for="filter-space-11">다빈치모텔</label></span>
                                        <span class="radioTy-ty1"><input type="radio" id="filter-space-9" name="filterPlaceSpace" value="9" /><label for="filter-space-9">컬처프로젝트</label></span>
                                    </li>
                                </ul>
                            </div>
                            <!-- 지역공간 선택 팝업// -->

                            <!-- 큐레이터 셀렉트 박스 -->
                            <div class="select-curator" style="display:none;">
                                <select id="curatorList">
                                    <option value="">전체</option>
                                </select>
                            </div>
                            <!-- 큐레이터 셀렉트 박스 //-->
                        </div>
                        <div class="select-ticket">
                            <span class="checkboxTy">
                                <input type="checkbox" id="ticket" name="reservationYN" value="Y" /><label for="ticket"><span>예매/예약 필요</span></label>
                            </span>
                        </div>
                    </div>

                    <!-- 전체 -->
                    <section class="box-section now-wrap" id="cultureList_one" style="display: none;">
                        <div class="invisual" id="cultureList_ViewList">

                        </div>
                    </section>
                    <!-- 전체// -->

                    <section class="box-section now-wrap" id="cultureList_many" style="display: none;">
                        <div class="invisual space1" id="cultureList_ViewList_A">

                        </div>
                        <div class="invisual space2" id="cultureList_ViewList_B">

                        </div>
                        <div class="invisual space3" id="cultureList_ViewList_C">

                        </div>
                    </section>
                </div>
                <!-- 필터 뷰// -->
            </div>
            <script>
                //테이블 행사,이벤트 날짜 선택 시
                var calendarClickEvent = [
                    '.calendar-table .showday a',
                    '.calendar-table .eventday a'
                ];

                $(document).on('click', calendarClickEvent.join(','), function(e) {
                    //e.preventDefault();
                    //선택일 표시
                    $('.calendar-wrap td').removeClass('selected');
                    $(this).parent().addClass('selected');
                });
                //$(calendarClickEvent.join(',')).calendarClickOn();

                //달력 today 초기화 버튼


                //*공간 선택 시
                function spaceOpen(){
                    var $target = $('#spacePopup');
                    if($('.btn-sel-space').hasClass('all')){
                        $('.select-ticket input').prop('checked',false); //check 해제
                        $('#spacePopup .radioTy-ty1').eq(0).find('input').prop('checked',true);//선택값 체크
                        $('.btn-sel-space').removeClass('all');
                    }
                    if($target.hasClass('show')){
                        $target.removeClass('show').attr('tabindex','0');//공간 팝업 Open
                    }else{
                        $target.addClass('show').attr('tabindex','-1').focus();//공간 팝업 Open
                    }
                }
                function spaceClose(){
                    $('#spacePopup').removeClass('show'); //팝업 Close
                }
                $('#spacePopup .radioTy-ty1').on('click', function () {
                    spaceClose(); //팝업 Close
                    $('.btn-sel-space span').text($(this).find('label').text());//선택 텍스트 변경
                    $('#spacePopup input').prop('checked',false); //check 해제
                    $(this).find('input').prop('checked',true); //선택 체크

                    //언더스테이지 선택 시 큐레이터 리스트 노출
                    $('.select-curator').hide();
                    if( $(this).find('input').val() === '7' ){
                        $('.select-curator').show();
                    }
                });
                //*/

                //*view mode 클릭 시

                //*/
            </script>
        </section>
    </div>
    <!-- #wContainer// -->

</div>
<!-- #wrap// -->


<script id="calendarTemplate" type="ejs/template">
    <h3 class="sr-only">캘린더 테이블</h3>
    <div class="getSeat-area">
        <span class="date"><@=yearFormat@>. <@=monthFormat@></span>
        <@
        var view_prevMonth = isEmpty_nvl(prevMonth);
        var view_nextMonth = isEmpty_nvl(nextMonth);

        if(view_prevMonth != ''){
        @>
        <a href="javascript:fnCultureCalendarClick('<@=view_prevMonth@>');" class="btn-prev"><span class="sr-only">이전 달</span></a>
        <@
        }else{
        @>
        <a href="javascript:;" class="btn-prev off"><span class="sr-only">이전 달</span></a>
        <@
        }
        @>
        <@
        if(view_nextMonth != ''){
        @>
        <a href="javascript:fnCultureCalendarClick('<@=view_nextMonth@>');" class="btn-next"><span class="sr-only">다음 달</span></a>
        <@
        }else{
        @>
        <a href="javascript:;" class="btn-next off"><span class="sr-only">다음 달</span></a>
        <@
        }
        @>
    </div>
    <div class="program-calendar">
        <div class="calendar-table">
            <table summary="이 표는 월일로 구성된 달력표입니다.">
                <colgroup>
                    <col width="56px">
                    <col width="56px">
                    <col width="56px">
                    <col width="56px">
                    <col width="56px">
                    <col width="56px">
                    <col width="56px">
                </colgroup>
                <thead class="calendar-head">
                <tr>
                    <th>Mon</th>
                    <th>Tue</th>
                    <th>Wed</th>
                    <th>Thu</th>
                    <th>Fri</th>
                    <th>Sat</th>
                    <th class="sun">Sun</th>
                </tr>
                </thead>
                <tbody class="calendar-body">
                <tr>
                    <@
                    var first_check;
                    var last_check;
                    if(list.length > 0){
                    first_check = list[0].chkCnt;
                    last_check = list[list.length-1].chkCnt;
                    }
                    @>
                    <@
                    if(first_check > 1){
                    for ( var i = 1; i <= (Number(first_check) - 1); i++ ) {
                    @>
                    <td>&nbsp;</td>
                    <@
                    }
                    }
                    @>
                    <@
                    var class_today;
                    var class_showday;
                    var class_eventday;
                    var curCalDt;
                    for ( var i = 0; i < list.length; i++ ) {
                    var item = list[i];

                    // 초기화
                    class_today = "";
                    class_showday = "";
                    class_eventday = "";

                    if(item.calDt == today){
                    class_today = " today";
                    }
                    if(item.calDt == item.targetDt ){
                    class_eventday = " eventday";       //개별 이벤트
                    }
                    if(item.calDt == item.targetDtTerm ){
                    class_showday = " showday";         //기간 행사일
                    }

                    var calDay_format = fnStringDateFormat(item.calDt, "-");
                    if(curCalDt != item.calDt ){
                    @>
                    <td class="<@-class_today@><@-class_showday@><@-class_eventday@>">
                        <@
                        if(item.calDt == item.targetDt || item.calDt == item.targetDtTerm){
                        @>
                        <a href="javascript:fnCultureCalendarDayClick('<@-item.calDt@>');" data-checkday="<@-calDay_format@>"><span><@-item.calDay@></span></a>
                        <@
                        }else{
                        @>
                        <a href="#none" data-checkday="<@-calDay_format@>"><span><@-item.calDay@></span></a>
                        <@
                        }
                        @>
                        <@
                        if(item.chkCnt == "7" && i + 1 < list.length){
                        @>
                </tr><tr>
                    <@
                    }
                    curCalDt = item.calDt;
                    }
                    }

                    if(last_check < 7){
                    for ( var i = (Number(last_check) + 1); i <= 7; i++ ) {
                    @>
                    <td>&nbsp;</td>
                    <@
                    }
                    }
                    @>
                </tr>
                </tbody>
            </table>
        </div>
</script>
<script id="calendarDayTemplate" type="ejs/template">
    <h2 class="section-title">
        Now
    </h2>
    <@ if ( list != null && list.length > 0 ) {@>
    <ul class="view-type-list">
        <@
        for ( var i = 0; i < list.length; i++ ) {
        var item = list[i];

        var title = cult.brTagToSpace(item.contentTitle);
        var titleSub = isEmpty_nvl(item.contentSubTitle);
        if(titleSub != ''){
        titleSub = titleSub.replace(/<br\s*[\/]?>/gi, ' ');
        }

        var libraryName_kr = setSpaceValueName(item.libraryId);
        var libraryPlace = setSpaceValuePlace(item.libraryId);
        var reservationTypeView = "";
        var reservationType = item.reservationType;
        if(reservationType == 'A1' ){
        reservationTypeView = "예약";
        }else if(reservationType == 'A2' ){
        reservationTypeView = "예매";
        }
        @>
        <li class="view-item">
            <a href="javascript:;" class="item" data-content-id="<@-item.contentId@>" data-content-type="<@-item.contentType@>">
                <div class="cnt">
                    <p class="timeline">
                        <span class="day">
                            <@
                            if(item.contentEventStartDate != '' && item.contentEventEndDate != ''){
                                if(item.contentEventStartDate == item.contentEventEndDate){
                            @>
                                <@-item.contentEventStartDateFormat@>(<@-item.contentEventStartDateFormatDayOfTheWeek@>)
                            <@
                                }else{
                            @>
                                <@-item.contentEventStartDateFormat@>(<@-item.contentEventStartDateFormatDayOfTheWeek@>) ~ <@-item.contentEventEndDateFormat@>(<@-item.contentEventEndDateFormatDayOfTheWeek@>)
                            <@
                                }
                            }else{
                            @>
                                <@-item.startDateFormat@>(<@-item.startDateFormatDayOfTheWeek@>)
                            <@
                            }
                            @>
                        </span>
                    </p>
                    <p class="tit"><@-title@></p>
                    <p class="summary"><@-titleSub@></p>
                    <p class="badge">
                        <span class="category">
                            <@-libraryName_kr@>
                        </span>
                        <@
                        if(reservationTypeView != ''){
                        @>
                        <span class="status">
                            <@-reservationTypeView@>
                        </span>
                        <@
                        }
                        @>
                    </p>
                </div>
                <@
                if(libraryPlace != ''){
                @>
                <span class="place">
                    <@-libraryPlace@>
                </span>
                <@
                }
                @>
                <div class="thum">
                    <img src="<@-item.thumbnailImageUrl@>" alt="" onerror="this.src=window.projectPath + '/resources/diveWeb/images/default/img_thnl_default.jpg'" />
                </div>
            </a>
        </li>
        <@ } @>
    </ul>
    <@ }else{ @>
    <div class="list-empty">
        선택하신 날짜에는 프로그램이 없습니다.
    </div>
    <@ } @>

</script>

<script id="cultureCalendarUpcomingTemplate" type="ejs/template">
    <@ if ( list != null && list.length > 0 ) {@>
    <h2 class="section-title">
        Upcoming
    </h2>
    <ul class="view-type-list" id="cultureCalendar_Upcoming_area">
    </ul>
    <div class="btn-area" id="cultureCalendar_Upcoming_more">
        <button class="btn-more" id="cultureCalendar_Upcoming_moreButton"><span>더 보기</span></button>
    </div>
    <@ } @>
</script>
<script id="cultureCalendarPagingUpcomingTemplate" type="ejs/template">
    <@
    for ( var i = 0; i < list.length; i++ ) {
    var item = list[i];

    var title = cult.brTagToSpace(item.contentTitle);
    var titleSub = isEmpty_nvl(item.contentSubTitle);
    if(titleSub != ''){
    titleSub = titleSub.replace(/<br\s*[\/]?>/gi, ' ');
    }
    var libraryName_kr = setSpaceValueName(item.libraryId);
    var libraryPlace = setSpaceValuePlace(item.libraryId);
    var reservationTypeView = "";
    var reservationType = item.reservationType;
    if(reservationType == 'A1' ){
    reservationTypeView = "예약";
    }else if(reservationType == 'A2' ){
    reservationTypeView = "예매";
    }
    @>
    <li class="view-item">
        <a href="javascript:;" class="item" data-content-id="<@-item.contentId@>" data-content-type="<@-item.contentType@>">
            <div class="cnt">
                <p class="timeline">
                    <span class="day">
                        <@
                        if(item.contentEventStartDate != '' && item.contentEventEndDate != ''){
                            if(item.contentEventStartDate == item.contentEventEndDate){
                        @>
                            <@-item.contentEventStartDateFormat@>(<@-item.contentEventStartDateFormatDayOfTheWeek@>)
                        <@
                            }else{
                        @>
                            <@-item.contentEventStartDateFormat@>(<@-item.contentEventStartDateFormatDayOfTheWeek@>) ~ <@-item.contentEventEndDateFormat@>(<@-item.contentEventEndDateFormatDayOfTheWeek@>)
                        <@
                            }
                        }else{
                        @>
                            <@-item.startDateFormat@>(<@-item.startDateFormatDayOfTheWeek@>)
                        <@
                        }
                        @>
                    </span>
                </p>
                <p class="tit"><@-title@></p>
                <p class="summary"><@-titleSub@></p>
                <p class="badge">
                    <span class="category">
                        <@-libraryName_kr@>
                    </span>
                    <@
                    if(reservationTypeView != ''){
                    @>
                    <span class="status">
                        <@-reservationTypeView@>
                    </span>
                    <@
                    }
                    @>
                </p>
            </div>
            <@
            if(libraryPlace != ''){
            @>
            <span class="place">
                <@-libraryPlace@>
            </span>
            <@
            }
            @>
            <div class="thum">
                <img src="<@-item.thumbnailImageUrl@>" alt="" onerror="this.src=window.projectPath + '/resources/diveWeb/images/default/img_thnl_default.jpg'" />
            </div>
        </a>
    </li>
    <@ } @>
</script>

<script id="cultureCalendarPastTemplate" type="ejs/template">
    <@ if ( list != null && list.length > 0 ) {@>
    <h2 class="section-title">
        Past
    </h2>
    <ul class="view-type-list" id="cultureCalendar_Past_area">
    </ul>
    <div class="btn-area" id="cultureCalendar_Past_more">
        <button class="btn-more" id="cultureCalendar_Past_moreButton"><span>더 보기</span></button>
    </div>
    <@ } @>
</script>
<script id="cultureCalendarPagingPastTemplate" type="ejs/template">
    <@
    for ( var i = 0; i < list.length; i++ ) {
    var item = list[i];

    var title = cult.brTagToSpace(item.contentTitle);
    var titleSub = isEmpty_nvl(item.contentSubTitle);
    if(titleSub != ''){
    titleSub = titleSub.replace(/<br\s*[\/]?>/gi, ' ');
    }
    var libraryName_kr = setSpaceValueName(item.libraryId);
    var libraryPlace = setSpaceValuePlace(item.libraryId);
    @>
    <li class="view-item">
        <a href="javascript:;" class="item" data-content-id="<@-item.contentId@>" data-content-type="<@-item.contentType@>">
            <div class="cnt">
                <p class="timeline">
                    <span class="day">
                        <@
                        if(item.contentEventStartDate != '' && item.contentEventEndDate != ''){
                            if(item.contentEventStartDate == item.contentEventEndDate){
                        @>
                            <@-item.contentEventStartDateFormat@>(<@-item.contentEventStartDateFormatDayOfTheWeek@>)
                        <@
                            }else{
                        @>
                            <@-item.contentEventStartDateFormat@>(<@-item.contentEventStartDateFormatDayOfTheWeek@>) ~ <@-item.contentEventEndDateFormat@>(<@-item.contentEventEndDateFormatDayOfTheWeek@>)
                        <@
                            }
                        }else{
                        @>
                            <@-item.startDateFormat@>(<@-item.startDateFormatDayOfTheWeek@>)
                        <@
                        }
                        @>
                    </span>
                </p>
                <p class="tit"><@-title@></p>
                <p class="summary"><@-titleSub@></p>
                <p class="badge">
                    <span class="category">
                        <@-libraryName_kr@>
                    </span>
                </p>
            </div>
            <@
            if(libraryPlace != ''){
            @>
            <span class="place">
                <@-libraryPlace@>
            </span>
            <@
            }
            @>
            <div class="thum">
                <img src="<@-item.thumbnailImageUrl@>" alt="" onerror="this.src=window.projectPath + '/resources/diveWeb/images/default/img_thnl_default.jpg'" />
            </div>
        </a>
    </li>
    <@ } @>
</script>

<script id="cultureListViewTemplate" type="ejs/template">
    <@ if ( list != null && list.length > 0 ) {@>
    <ul class="view-type-thumb" id="cultureList_ViewList_area">

    </ul>
    <div class="btn-area" id="cultureList_ViewList_more">
        <button class="btn-more" id="cultureList_ViewList_moreButton"><span>더 보기</span></button>
    </div>
    <@ } @>
</script>

<script id="cultureListViewTemplate_A" type="ejs/template">
    <@ if ( list != null && list.length > 0 ) {@>
    <h4 class="section-title">이태원</h4>
    <ul class="view-type-thumb" id="cultureList_ViewList_area_A">

    </ul>
    <div class="btn-area" id="cultureList_ViewList_more_A">
        <button class="btn-more" id="cultureList_ViewList_moreButton_A"><span>더 보기</span></button>
    </div>
    <@ } @>
</script>

<script id="cultureListViewTemplate_B" type="ejs/template">
    <@ if ( list != null && list.length > 0 ) {@>
    <h4 class="section-title">청담</h4>
    <ul class="view-type-thumb" id="cultureList_ViewList_area_B">

    </ul>
    <div class="btn-area" id="cultureList_ViewList_more_B">
        <button class="btn-more" id="cultureList_ViewList_moreButton_B"><span>더 보기</span></button>
    </div>
    <@ } @>
</script>

<script id="cultureListViewTemplate_C" type="ejs/template">
    <@ if ( list != null && list.length > 0 ) {@>
    <h4 class="section-title">가회</h4>
    <ul class="view-type-thumb" id="cultureList_ViewList_area_C">

    </ul>
    <div class="btn-area" id="cultureList_ViewList_more_C">
        <button class="btn-more" id="cultureList_ViewList_moreButton_C"><span>더 보기</span></button>
    </div>
    <@ } @>
</script>

<script id="cultureListPagingViewTemplate" type="ejs/template">
    <@
    for ( var i = 0; i < list.length; i++ ) {
    var item = list[i];

    var title = cult.brTagToSpace(item.contentTitle);
    var titleSub = isEmpty_nvl(item.contentSubTitle);
    if(titleSub != ''){
    titleSub = titleSub.replace(/<br\s*[\/]?>/gi, ' ');
    }
    var libraryName_kr = setSpaceValueName(item.libraryId);
    var reservationTypeView = "";
    var reservationType = item.reservationType;
    if(reservationType == 'A1' ){
    reservationTypeView = "예약";
    }else if(reservationType == 'A2' ){
    reservationTypeView = "예매";
    }

    //과거 정보일 경우 해당 내용 삭제
    var class_type = "";
    if(item.typeOrder == 'PAST'){
    reservationTypeView = "종료";
    class_type = "past";
    }

    @>
    <li class="view-item <@-class_type@>">
        <a href="javascript:;" class="item" data-content-id="<@-item.contentId@>" data-content-type="<@-item.contentType@>">
            <div class="cnt">
                <p class="timeline">
                        <span class="day">
                            <@
                            if(item.contentEventStartDate != '' && item.contentEventEndDate != ''){
                                if(item.contentEventStartDate == item.contentEventEndDate){
                            @>
                                <@-item.contentEventStartDateFormat@>(<@-item.contentEventStartDateFormatDayOfTheWeek@>)
                            <@
                                }else{
                            @>
                                <@-item.contentEventStartDateFormat@>(<@-item.contentEventStartDateFormatDayOfTheWeek@>) ~ <@-item.contentEventEndDateFormat@>(<@-item.contentEventEndDateFormatDayOfTheWeek@>)
                            <@
                                }
                            }else{
                            @>
                                <@-item.startDateFormat@>(<@-item.startDateFormatDayOfTheWeek@>)
                            <@
                            }
                            @>
                        </span>
                </p>
                <p class="tit"><@-title@></p>
                <p class="summary"><@-titleSub@></p>
                <p class="badge">
                        <span class="category">
                            <@-libraryName_kr@>
                        </span>
                    <@
                    if(reservationTypeView != ''){
                    @>
                    <span class="status">
                            <@-reservationTypeView@>
                        </span>
                    <@
                    }
                    @>
                </p>
            </div>
            <div class="thum">
                <img src="<@-item.thumbnailImageUrl@>" alt="" onerror="this.src=window.projectPath + '/resources/diveWeb/images/default/img_thnl_default.jpg'" />
            </div>
        </a>
    </li>
    <@ } @>
</script>


<script type="text/javaScript" language="javascript">
    (function( $ ) {
        $.widget('outback.page', $.outback.basePage, {
            options: {
                pageCode: '',
                showType: "calendar",
                filterPlaceSpace: "",
                curatorId: "",
                curatorList: JSON.parse('[{"curatorEngName":"","curatorImageUrl":"","curatorName":"타블로","curatorSequenceNo":"8","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":"장기하","curatorSequenceNo":"7","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":"박정현","curatorSequenceNo":"10","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":"윤상","curatorSequenceNo":"5","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":"DJ Soulscape","curatorSequenceNo":"3","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":"윤종신","curatorSequenceNo":"2","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":"현대카드","curatorSequenceNo":"11","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":" 크러쉬","curatorSequenceNo":"12","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":"유희열","curatorSequenceNo":"1","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":"타이거JK & 윤미래","curatorSequenceNo":"6","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":"이적","curatorSequenceNo":"9","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""},{"curatorEngName":"","curatorImageUrl":"","curatorName":" 김수로","curatorSequenceNo":"4","description":"","displayOrder":"","insertDate":"","insertUser":"","rnum":"","updateDate":"","updateUser":"","useYN":""}]'),
                reservationYN: "",
                cultureListViewListPage: {pageNo: 1, pageCount: 4},
                cultureListViewListPageA: {pageNo: 1, pageCount: 4},
                cultureListViewListPageB: {pageNo: 1, pageCount: 4},
                cultureListViewListPageC: {pageNo: 1, pageCount: 4},
                cultureCalendarUpcomingPage: {pageNo: 1, pageCount: 4},
                cultureCalendarPastPage: {pageNo: 1, pageCount: 4},
                today: "20200428",
                today_yearMon : "202004",
                calendarTodayYn: "Y",
                moreBtnDoubleClickPrevention: false
            },
            _create: function() {
                this._super();
            },

            /** init */
            _init: function() {
                this._super();
                this.setEvent();

                this.setInitView();           //초기 화면 세팅
                this.options.cultureListViewListPage.pageCount = 4;
                this.options.cultureListViewListPageA.pageCount = 4;
                this.options.cultureListViewListPageB.pageCount = 4;
                this.options.cultureListViewListPageC.pageCount = 4;
                this.options.cultureCalendarUpcomingPage.pageCount = 4;
                this.options.cultureCalendarPastPage.pageCount = 4;

            },
            setEvent: function() {
                this._on({
                    'click #showTypeList': 'fnShowTypeList',
                    'click #showTypeCalendar': 'fnShowTypeCalendar',
                    'click input[name="filterPlaceSpace"]': 'fnSearchCulture',
                    'change #curatorList': 'fnSearchCulture',
                    'click input[name="reservationYN"]': 'fnSearchCulture',
                    'click #cultureList_ViewList_moreButton': 'getCultureListViewList_more',              // (리스트 형식) 더보기
                    'click #cultureList_ViewList_moreButton_A': 'getCultureListViewList_moreA',              // (리스트 형식) 더보기
                    'click #cultureList_ViewList_moreButton_B': 'getCultureListViewList_moreB',              // (리스트 형식) 더보기
                    'click #cultureList_ViewList_moreButton_C': 'getCultureListViewList_moreC',              // (리스트 형식) 더보기
                    'click #cultureCalendar_Upcoming_moreButton': 'getCultureCalendarUpcoming_more',        // (캘린더 형식) Upcoming 더보기
                    'click #cultureCalendar_Past_moreButton': 'getCultureCalendarPast_more',                           // (캘린더 형식) Past 더보기
                    'click #calendar_today': 'getCultureCalendarToday',
                    'click .view-item > .item ': 'getContentDetil'
                });
            },
            setInitView: function() {
                //큐레이터 리스트 셋팅
                var curatorList = this.options.curatorList;
                if( curatorList.length > 0 ){
                    $.each(curatorList, function(i){
                        $('.select-curator select').append('<option value="'+ curatorList[i].curatorSequenceNo +'">'+ curatorList[i].curatorName +'</option>');
                    });
                }

                /* 초기화면 설정 */
                //조회 조건 초기 설정
                var filterPlaceSpace = this.options.filterPlaceSpace;
                var reservationYN = this.options.reservationYN;
                var curatorId = this.options.curatorId;

                $("input[name='filterPlaceSpace'][value='"+filterPlaceSpace+"']").prop('checked', true);
                $("input[name='reservationYN'][value='"+reservationYN+"']").prop('checked', true);

                //큐레이터 클릭 처리
                if( filterPlaceSpace === '7' ) { this.options.showType = "list"; }

                //화면 처리 방식
                var showType = this.options.showType;
                if(showType == "list"){
                    this.options.showType = "init";           //최초 조회시 세팅

                    //화면 UI 설정
                    $('#calenderView').removeClass('active');
                    $('#filterView').addClass('active');
                    $('#showTypeCalendar').closest("li").removeClass('current');
                    $('#showTypeList').closest("li").addClass('current');
                    var check_label = isEmpty_nvl($("input[name='filterPlaceSpace']:checked").attr("id"));
                    $('.btn-sel-space span').text($("label[for='"+check_label+"']").text());

                    //큐레이터 UI및 값 세팅
                    if( filterPlaceSpace === '7' ){
                        this.options.curator = curatorId;

                        if( curatorId !== '' ){
                            $("#curatorList").val(curatorId);
                        }
                        $(".select-curator").show();
                    }

                    //Culture Calendar [리스트 형식]
                    $('#showTypeList').trigger('click');

                }else{
                    this.options.showType = "init";           //최초 조회시 세팅

                    //Culture Calendar [캘린더 형식]
                    $('#showTypeCalendar').trigger('click');
                }
            },
            fnShowTypeList: function() {
                /* 화면 설정 (리스트 형식) */
                if(this.options.showType != "list"){  // 동일한 영역 여러번 클릭 방지
                    if(this.options.showType == "init"){
                    }else{
                        //초기화
                        var temp_filterPlaceSpace = "";
                        var temp_reservationYN = "";
                        $("input[name='filterPlaceSpace'][value='"+temp_filterPlaceSpace+"']").prop('checked', true);
                        var check_label = isEmpty_nvl($("input[name='filterPlaceSpace']:checked").attr("id"));
                        $('.btn-sel-space span').text($("label[for='"+check_label+"']").text());

                        $('.select-ticket input').prop('checked',false); //check 해제

                        //초기화 데이터 설정
                        this.options.filterPlaceSpace = temp_filterPlaceSpace;
                        this.options.reservationYN = temp_reservationYN;
                    }

                    var filterPlaceSpace = isEmpty_nvl($("input[name='filterPlaceSpace']:checked").val());
                    var reservationYN = isEmpty_nvl($("input[name='reservationYN']:checked").val());

                    //Culture Calendar [리스트 형식]
                    this.getCultureListViewList_init();

                    this.options.showType = "list";
                }
            },
            fnShowTypeCalendar: function() {
                /* 화면 설정 (캘린더 형식) */
                if(this.options.showType != "calendar"){  // 동일한 영역 여러번 클릭 방지
                    //Culture Calendar [캘린더 형식]
                    this.option.calendarTodayYn = "Y";        //오늘일자로 처리
                    this.getCultureCalendar();

                    this.options.showType = "calendar";
                }
            },
            fnSearchCulture: function(e) {
                /* 검색 조건 */
                var filterPlaceSpace = isEmpty_nvl($("input[name='filterPlaceSpace']:checked").val());
                var reservationYN = isEmpty_nvl($("input[name='reservationYN']:checked").val());
                var curator = "";

                this.options.filterPlaceSpace = filterPlaceSpace;
                this.options.reservationYN = reservationYN;

                if( e.currentTarget.id === 'curatorList' ){
                    curator = $('select[id=curatorList]').val();
                }else{
                    $('select[id=curatorList]').val('');
                }
                this.options.curator = curator;

                //Culture Calendar [리스트형식]
                this.getCultureListViewList_init();

            },
            getCultureListViewList_init: function() {
                /* 리스트 형식 : 초기 조회 */

                var temp_isNotPast = "";
                // 예약/예매 Y 일 경우 과거 정보 X
                if(this.options.reservationYN == "Y"){
                    temp_isNotPast = "Y";
                }

                var param = {
                    isNotPast : temp_isNotPast,
                    filterPlaceSpace : this.options.filterPlaceSpace,
                    curator: this.options.curator,
                    reservationYN : this.options.reservationYN,
                    pageCount : this.options.cultureListViewListPage.pageCount
                };

                var temp_filterPlaceSpace = this.options.filterPlaceSpace;
                $("#cultureList_one").hide();
                $("#cultureList_many").hide();

                if(isEmpty_nvl(temp_filterPlaceSpace) != ""){
                    $("#cultureList_one").show();

                    cult.ajax({
                        url: '/web/culture/getCultureOnePaging.hdc',
                        type: 'POST',
                        data: param
                    }).done($.proxy(function(res) {
                        var templateHtml = $('#cultureListViewTemplate').html();
                        var templateListHtml = $('#cultureListPagingViewTemplate').html();

                        var objTemplate = cult.ejsCompile(templateHtml);
                        var objListTemplate = cult.ejsCompile(templateListHtml);

                        var viewHtml = objTemplate(res.body);
                        var viewListHtml = objListTemplate(res.body);

                        $('#cultureList_ViewList').html(viewHtml);
                        if ( res.body.list != null && res.body.list.length > 0 ) {
                            $('#cultureList_ViewList_area').html(viewListHtml);
                            if ( res.body.pagingEndYN == 'Y' ) {
                                $('#cultureList_ViewList_more').remove();
                            }else{
                                $('#cultureList_ViewList_moreButton').html("<span>더 보기</span>");
                            }
                        }else{
                            var listNotHtml = '';
                            listNotHtml += '<div class="list-empty">';
                            listNotHtml += '선택하신 조건에 해당하는 행사가 없습니다.';
                            listNotHtml += '</div>';
                            $('#cultureList_ViewList').html(listNotHtml);
                        }

                        this.options.cultureListViewListPage.pageNo = parseInt(res.body.pageNo) + 1;

                    }, this));
                }else{
                    $("#cultureList_many").show();

                    cult.ajax({
                        url: '/web/culture/getCultureManyPaging.hdc',
                        type: 'POST',
                        data: param
                    }).done($.proxy(function(res) {

                        //이태원
                        var templateHtml_A = $('#cultureListViewTemplate_A').html();
                        var templateListHtml_A = $('#cultureListPagingViewTemplate').html();

                        var objTemplate_A = cult.ejsCompile(templateHtml_A);
                        var objListTemplate_A = cult.ejsCompile(templateListHtml_A);

                        var viewHtml_A = objTemplate_A({list : res.body.voA.list});
                        var viewListHtml_A = objListTemplate_A({list : res.body.voA.list});

                        $('#cultureList_ViewList_A').html(viewHtml_A);
                        if ( res.body.voA.list != null && res.body.voA.list.length > 0 ) {
                            $('#cultureList_ViewList_area_A').html(viewListHtml_A);
                            if ( res.body.voA.pagingEndYN == 'Y' ) {
                                $('#cultureList_ViewList_more_A').remove();
                            }else{
                                $('#cultureList_ViewList_moreButton_A').html("<span>더 보기</span>");
                            }
                        }else{
                            var listNotHtml = '';
                            listNotHtml += '<h4 class="section-title">이태원</h4>';
                            listNotHtml += '<div class="list-empty">';
                            listNotHtml += '선택하신 조건에 해당하는 행사가 없습니다.';
                            listNotHtml += '</div>';
                            $('#cultureList_ViewList_A').html(listNotHtml);
                        }
                        this.options.cultureListViewListPageA.pageNo = parseInt(res.body.voA.pageNo) + 1;

                        //청담. 압구정
                        var templateHtml_B = $('#cultureListViewTemplate_B').html();
                        var templateListHtml_B = $('#cultureListPagingViewTemplate').html();

                        var objTemplate_B = cult.ejsCompile(templateHtml_B);
                        var objListTemplate_B = cult.ejsCompile(templateListHtml_B);

                        var viewHtml_B = objTemplate_B({list : res.body.voB.list});
                        var viewListHtml_B = objListTemplate_B({list : res.body.voB.list});

                        $('#cultureList_ViewList_B').html(viewHtml_B);
                        if ( res.body.voB.list != null && res.body.voB.list.length > 0 ) {
                            $('#cultureList_ViewList_area_B').html(viewListHtml_B);
                            if ( res.body.voB.pagingEndYN == 'Y' ) {
                                $('#cultureList_ViewList_more_B').remove();
                            }else{
                                $('#cultureList_ViewList_moreButton_B').html("<span>더 보기</span>");
                            }
                        }else{
                            var listNotHtml = '';
                            listNotHtml += '<h4 class="section-title">청담</h4>';
                            listNotHtml += '<div class="list-empty">';
                            listNotHtml += '선택하신 조건에 해당하는 행사가 없습니다.';
                            listNotHtml += '</div>';
                            $('#cultureList_ViewList_B').html(listNotHtml);
                        }
                        this.options.cultureListViewListPageB.pageNo = parseInt(res.body.voB.pageNo) + 1;

                        //가회
                        var templateHtml_C = $('#cultureListViewTemplate_C').html();
                        var templateListHtml_C = $('#cultureListPagingViewTemplate').html();

                        var objTemplate_C = cult.ejsCompile(templateHtml_C);
                        var objListTemplate_C = cult.ejsCompile(templateListHtml_C);

                        var viewHtml_C = objTemplate_C({list : res.body.voC.list});
                        var viewListHtml_C = objListTemplate_C({list : res.body.voC.list});

                        $('#cultureList_ViewList_C').html(viewHtml_C);
                        if ( res.body.voC.list != null && res.body.voC.list.length > 0 ) {
                            $('#cultureList_ViewList_area_C').html(viewListHtml_C);
                            if ( res.body.voC.pagingEndYN == 'Y' ) {
                                $('#cultureList_ViewList_more_C').remove();
                            }else{
                                $('#cultureList_ViewList_moreButton_C').html("<span>더 보기</span>");
                            }
                        }else{
                            var listNotHtml = '';
                            listNotHtml += '<h4 class="section-title">가회</h4>';
                            listNotHtml += '<div class="list-empty">';
                            listNotHtml += '선택하신 조건에 해당하는 행사가 없습니다.';
                            listNotHtml += '</div>';
                            $('#cultureList_ViewList_C').html(listNotHtml);
                        }
                        this.options.cultureListViewListPageC.pageNo = parseInt(res.body.voC.pageNo) + 1;

                    }, this));
                }
            },
            getCultureListViewList_more: function() {
                /* 리스트 형식 : Now & Upcoming 더보기 */
                // double click 방지
                if ( this.options.moreBtnDoubleClickPrevention ) return false;

                var temp_isNotPast = "";
                // 예약/예매 Y 일 경우 과거 정보 X
                if(this.options.reservationYN == "Y"){
                    temp_isNotPast = "Y";
                }

                var param = {
                    isNotPast : temp_isNotPast,
                    filterPlaceSpace : this.options.filterPlaceSpace,
                    curator: this.options.curator,
                    reservationYN : this.options.reservationYN,
                    pageNo: this.options.cultureListViewListPage.pageNo,
                    pageCount : this.options.cultureListViewListPage.pageCount
                };

                this.options.moreBtnDoubleClickPrevention = true;
                cult.ajax({
                    url: '/web/culture/getCultureOnePaging.hdc',
                    type: 'POST',
                    data: param
                }).done($.proxy(function(res) {
                    this.options.moreBtnDoubleClickPrevention = false;
                    var templateListHtml = $('#cultureListPagingViewTemplate').html();
                    var objListTemplate = cult.ejsCompile(templateListHtml);
                    var viewListHtml = objListTemplate(res.body);

                    $('#cultureList_ViewList_area').append(viewListHtml);
                    if ( res.body.pagingEndYN == 'Y' ) {
                        $('#cultureList_ViewList_more').remove();
                    }else{
                        $('#cultureList_ViewList_moreButton').html("<span>더 보기</span>");
                    }

                    this.options.cultureListViewListPage.pageNo = parseInt(res.body.pageNo) + 1;
                }, this));
            },
            getCultureListViewList_moreA: function() {
                /* 리스트 형식 : 더보기 */
                // double click 방지
                if ( this.options.moreBtnDoubleClickPrevention ) return false;

                var temp_isNotPast = "";
                // 예약/예매 Y 일 경우 과거 정보 X
                if(this.options.reservationYN == "Y"){
                    temp_isNotPast = "Y";
                }

                var param = {
                    isNotPast : temp_isNotPast,
                    filterPlaceSpace : "A",
                    reservationYN : this.options.reservationYN,
                    pageNo: this.options.cultureListViewListPageA.pageNo,
                    pageCount : this.options.cultureListViewListPageA.pageCount
                };

                this.options.moreBtnDoubleClickPrevention = true;
                cult.ajax({
                    url: '/web/culture/getCultureOnePaging.hdc',
                    type: 'POST',
                    data: param
                }).done($.proxy(function(res) {
                    this.options.moreBtnDoubleClickPrevention = false;
                    var templateListHtml = $('#cultureListPagingViewTemplate').html();
                    var objListTemplate = cult.ejsCompile(templateListHtml);
                    var viewListHtml = objListTemplate(res.body);

                    $('#cultureList_ViewList_area_A').append(viewListHtml);
                    if ( res.body.pagingEndYN == 'Y' ) {
                        $('#cultureList_ViewList_more_A').remove();
                    }else{
                        $('#cultureList_ViewList_moreButton_A').html("<span>더 보기</span>");
                    }

                    this.options.cultureListViewListPageA.pageNo = parseInt(res.body.pageNo) + 1;
                }, this));
            },
            getCultureListViewList_moreB: function() {
                /* 리스트 형식 : 더보기 */
                // double click 방지
                if ( this.options.moreBtnDoubleClickPrevention ) return false;

                var temp_isNotPast = "";
                // 예약/예매 Y 일 경우 과거 정보 X
                if(this.options.reservationYN == "Y"){
                    temp_isNotPast = "Y";
                }

                var param = {
                    isNotPast : temp_isNotPast,
                    filterPlaceSpace : "B",
                    reservationYN : this.options.reservationYN,
                    pageNo: this.options.cultureListViewListPageB.pageNo,
                    pageCount : this.options.cultureListViewListPageB.pageCount
                };

                this.options.moreBtnDoubleClickPrevention = true;
                cult.ajax({
                    url: '/web/culture/getCultureOnePaging.hdc',
                    type: 'POST',
                    data: param
                }).done($.proxy(function(res) {
                    this.options.moreBtnDoubleClickPrevention = false;
                    var templateListHtml = $('#cultureListPagingViewTemplate').html();
                    var objListTemplate = cult.ejsCompile(templateListHtml);
                    var viewListHtml = objListTemplate(res.body);

                    $('#cultureList_ViewList_area_B').append(viewListHtml);
                    if ( res.body.pagingEndYN == 'Y' ) {
                        $('#cultureList_ViewList_more_B').remove();
                    }else{
                        $('#cultureList_ViewList_moreButton_B').html("<span>더 보기</span>");
                    }

                    this.options.cultureListViewListPageB.pageNo = parseInt(res.body.pageNo) + 1;
                }, this));
            },
            getCultureListViewList_moreC: function() {
                /* 리스트 형식 : 더보기 */
                // double click 방지
                if ( this.options.moreBtnDoubleClickPrevention ) return false;

                var temp_isNotPast = "";
                // 예약/예매 Y 일 경우 과거 정보 X
                if(this.options.reservationYN == "Y"){
                    temp_isNotPast = "Y";
                }

                var param = {
                    isNotPast : temp_isNotPast,
                    filterPlaceSpace : "C",
                    reservationYN : this.options.reservationYN,
                    pageNo: this.options.cultureListViewListPageC.pageNo,
                    pageCount : this.options.cultureListViewListPageC.pageCount
                };

                this.options.moreBtnDoubleClickPrevention = true;
                cult.ajax({
                    url: '/web/culture/getCultureOnePaging.hdc',
                    type: 'POST',
                    data: param
                }).done($.proxy(function(res) {
                    this.options.moreBtnDoubleClickPrevention = false;
                    var templateListHtml = $('#cultureListPagingViewTemplate').html();
                    var objListTemplate = cult.ejsCompile(templateListHtml);
                    var viewListHtml = objListTemplate(res.body);

                    $('#cultureList_ViewList_area_C').append(viewListHtml);
                    if ( res.body.pagingEndYN == 'Y' ) {
                        $('#cultureList_ViewList_more_C').remove();
                    }else{
                        $('#cultureList_ViewList_moreButton_C').html("<span>더 보기</span>");
                    }

                    this.options.cultureListViewListPageC.pageNo = parseInt(res.body.pageNo) + 1;
                }, this));
            },
            getCultureCalendar: function() {
                /* 캘린더 형식 : 달력 */
                var yearMon = "";
                if(this.option.calendarTodayYn == "Y"){
                    yearMon = this.options.today_yearMon;
                }else{
                    yearMon = $("input[name='hid_yearMon']").val();
                }

                fnCultureCalendarAll(yearMon, this.options.today);
                this.getCultureCalendarAll();
            },
            getCultureCalendarToday: function() {
                /* 캘린더 형식 : 달력 */
                $("input[name='hid_checkDay']").val("");//today 선택시 선택일자 초기화
                fnCultureCalendarAll(this.options.today_yearMon, this.options.today);
                this.getCultureCalendarAll();
            },
            getCultureCalendarAll: function() {
                /* 캘린더 형식 : Now / Upcoming / PAST 초기 조회 */
                var param = {
                    pageCountUpcoming : this.options.cultureCalendarUpcomingPage.pageCount,
                    pageCountPast : this.options.cultureCalendarPastPage.pageCount
                };

                cult.ajax({
                    url: '/web/culture/getCultureCalendarAll.hdc',
                    type: 'POST',
                    data: param
                }).done($.proxy(function(res) {

                    //NOW
                    var now_templateHtml = $('#calendarDayTemplate').html();
                    var now_objTemplate = cult.ejsCompile(now_templateHtml);
                    var now_viewHtml = now_objTemplate(res.body.voNow);

                    $("#cultureCalendar_NowWrap").show();
                    $('#cultureCalendar_Now').html(now_viewHtml);

                    $('#cultureCalendar_Now').find(".section-title").show();

                    //UPCOMING
                    $("#cultureCalendar_UpcomingWrap").hide();       //Default 숨김

                    var upcoming_templateHtml = $('#cultureCalendarUpcomingTemplate').html();
                    var upcoming_templateListHtml = $('#cultureCalendarPagingUpcomingTemplate').html();

                    var upcoming_objTemplate = cult.ejsCompile(upcoming_templateHtml);
                    var upcoming_objListTemplate = cult.ejsCompile(upcoming_templateListHtml);

                    var upcoming_viewHtml = upcoming_objTemplate(res.body.voUpcoming);
                    var upcoming_viewListHtml = upcoming_objListTemplate(res.body.voUpcoming);

                    $('#cultureCalendar_UpcomingWrap').html(upcoming_viewHtml);
                    if ( res.body.voUpcoming.list != null && res.body.voUpcoming.list.length > 0 ) {
                        $("#cultureCalendar_UpcomingWrap").show();       //정보가 존재할 경우 활성화
                        $('#cultureCalendar_Upcoming_area').html(upcoming_viewListHtml);
                        if ( res.body.voUpcoming.pagingEndYN == 'Y' ) {
                            $('#cultureCalendar_Upcoming_more').remove();
                        }else{
                            $('#cultureCalendar_Upcoming_moreButton').html("<span>더 보기</span>");
                        }
                    }else{
                        $("#cultureCalendar_UpcomingWrap").show();       //정보가 존재하지 않을 경우 활성화
                        var listNotHtml = '';
                        listNotHtml += '<h2 class="section-title">Upcoming</h2>';
                        listNotHtml += '<div class="list-empty">';
                        listNotHtml += '풍덩! 빠질만한 다음 행사를 준비 중입니다 :)';
                        listNotHtml += '</div>';
                        $('#cultureCalendar_UpcomingWrap').html(listNotHtml);
                    }

                    this.options.cultureCalendarUpcomingPage.pageNo = parseInt(res.body.voUpcoming.pageNo) + 1;

                    //PAST
                    $("#cultureCalendar_PastWrap").hide();            //Default 숨김

                    var past_templateHtml = $('#cultureCalendarPastTemplate').html();
                    var past_templateListHtml = $('#cultureCalendarPagingPastTemplate').html();

                    var past_objTemplate = cult.ejsCompile(past_templateHtml);
                    var past_objListTemplate = cult.ejsCompile(past_templateListHtml);

                    var past_viewHtml = past_objTemplate(res.body.voPast);
                    var past_viewListHtml = past_objListTemplate(res.body.voPast);

                    $('#cultureCalendar_PastWrap').html(past_viewHtml);
                    if ( res.body.voPast.list != null && res.body.voPast.list.length > 0 ) {
                        $("#cultureCalendar_PastWrap").show();       //정보가 존재할 경우 활성화
                        $('#cultureCalendar_Past_area').html(past_viewListHtml);
                        if ( res.body.voPast.pagingEndYN == 'Y' ) {
                            $('#cultureCalendar_Past_more').remove();
                        }else{
                            $('#cultureCalendar_Past_moreButton').html("<span>더 보기</span>");
                        }
                    }else{
                        $("#cultureCalendar_PastWrap").show();       //정보가 존재하지 않을 경우 활성화
                        var listNotHtml = '';
                        listNotHtml += '<h2 class="section-title">Past</h2>';
                        listNotHtml += '<div class="list-empty">';
                        listNotHtml += '종료된 행사가 없습니다.';
                        listNotHtml += '</div>';
                        $('#cultureCalendar_PastWrap').html(listNotHtml);
                    }

                    this.options.cultureCalendarPastPage.pageNo = parseInt(res.body.voPast.pageNo) + 1;

                }, this));
            },
            getCultureCalendarUpcoming_more: function() {
                /* 리스트 형식 : Past 더보기 */
                // double click 방지
                if ( this.options.moreBtnDoubleClickPrevention ) return false;

                var param = {
                    divisionType : "UPCOMING",
                    pageNo: this.options.cultureCalendarUpcomingPage.pageNo,
                    pageCount : this.options.cultureCalendarUpcomingPage.pageCount
                };

                this.options.moreBtnDoubleClickPrevention = true;
                cult.ajax({
                    url: '/web/culture/getCultureListPaging.hdc',
                    type: 'POST',
                    data: param
                }).done($.proxy(function(res) {
                    this.options.moreBtnDoubleClickPrevention = false;
                    var templateListHtml = $('#cultureCalendarPagingUpcomingTemplate').html();
                    var objListTemplate = cult.ejsCompile(templateListHtml);
                    var viewListHtml = objListTemplate(res.body);

                    $('#cultureCalendar_Upcoming_area').append(viewListHtml);
                    if ( res.body.pagingEndYN == 'Y' ) {
                        $('#cultureCalendar_Upcoming_more').remove();
                    }else{
                        $('#cultureCalendar_Upcoming_moreButton').html("<span>더 보기</span>");
                    }

                    this.options.cultureCalendarUpcomingPage.pageNo = parseInt(res.body.pageNo) + 1;
                }, this));
            },
            getCultureCalendarPast_more: function() {
                /* 리스트 형식 : Past 더보기 */
                // double click 방지
                if ( this.options.moreBtnDoubleClickPrevention ) return false;

                var param = {
                    divisionType : "PAST",
                    pageNo: this.options.cultureCalendarPastPage.pageNo,
                    pageCount : this.options.cultureCalendarPastPage.pageCount
                };

                this.options.moreBtnDoubleClickPrevention = true;
                cult.ajax({
                    url: '/web/culture/getCultureListPaging.hdc',
                    type: 'POST',
                    data: param
                }).done($.proxy(function(res) {
                    this.options.moreBtnDoubleClickPrevention = false;
                    var templateListHtml = $('#cultureCalendarPagingPastTemplate').html();
                    var objListTemplate = cult.ejsCompile(templateListHtml);
                    var viewListHtml = objListTemplate(res.body);

                    $('#cultureCalendar_Past_area').append(viewListHtml);
                    if ( res.body.pagingEndYN == 'Y' ) {
                        $('#cultureCalendar_Past_more').remove();
                    }else{
                        $('#cultureCalendar_Past_moreButton').html("<span>더 보기</span>");
                    }

                    this.options.cultureCalendarPastPage.pageNo = parseInt(res.body.pageNo) + 1;
                }, this));
            },
            getContentDetil: function(e) {
                var tmp_target = $(e.target).closest(".view-item").find(".item");
                var contentId = tmp_target.data('contentId');
                var contentType = tmp_target.data('contentType');

                if(contentType == "3"){   //콘텐츠 : 외부
                    fnExternalLinkUrl(contentId);
                }else{
                    var param = {
                        filterPlaceSpace : this.options.filterPlaceSpace,
                        curator: this.options.curator,
                        reservationYN : this.options.reservationYN
                    }
                    $.cookie('diveWebParam', JSON.stringify(param), { expires:1, path : '/' });

                    cult.movePageCookie('/web/content/contentView.hdc?contentId=' + contentId);
                }
            }

        });
    })( jQuery );

    var moreBtnDoubleClickCheck = false;
    //CultureCalendar (캘린더형) 달력정보 호출
    function fnCultureCalendarAll(checkMonth, today){
        // double click 방지
        if ( moreBtnDoubleClickCheck ) return false;

        var param = {
            yearMon : checkMonth
        }

        moreBtnDoubleClickCheck = true;
        cult.ajax({
            url: '/web/culture/getCultureCalendar.hdc',
            type: 'POST',
            data: param
        }).done($.proxy(function(res) {
            moreBtnDoubleClickCheck = false;

            var templateHtml = $('#calendarTemplate').html();
            var objTemplate = cult.ejsCompile(templateHtml);
            var viewHtml = objTemplate(res.body);
            $('#cultureCalendar_View').html(viewHtml);

            //선택 날짜 표시
            /**
             if(today.length == 8){
            var temp_checkDay = fnStringDateFormat(today, "-");
            $("input[name='hid_checkDay']").val(temp_checkDay);

            //선택 초기화
            $('.calendar-wrap td').removeClass('selected');
            //선택 날짜
            $("#calenderView .table-type-calendar td").each(function(e){
                var temp = $(this).find("a").data('checkday');
                if(temp_checkDay == temp){
                    $(this).addClass('selected');
                    return;
                }
            })
        }
             */

        }, this));
    }
    //CultureCalendar (캘린더형) 달력정보 호출
    function fnCultureCalendarClick(checkMonth){
        // double click 방지
        if ( moreBtnDoubleClickCheck ) return false;

        var param = {
            yearMon : checkMonth
        }

        moreBtnDoubleClickCheck = true;
        cult.ajax({
            url: '/web/culture/getCultureCalendar.hdc',
            type: 'POST',
            data: param
        }).done($.proxy(function(res) {
            moreBtnDoubleClickCheck = false;

            var templateHtml = $('#calendarTemplate').html();
            var objTemplate = cult.ejsCompile(templateHtml);
            var viewHtml = objTemplate(res.body);
            $('#cultureCalendar_View').html(viewHtml);

            //기존에 선택된 날짜 표시
            var temp_checkDay = $("input[name='hid_checkDay']").val();
            if(isEmpty_nvl(temp_checkDay) != ""){
                //선택 초기화
                $('.calendar-wrap td').removeClass('selected');
                //선택 날짜
                $("#calenderView .table-type-calendar td").each(function(e){
                    var temp = $(this).find("a").data('checkday');
                    if(temp_checkDay == temp){
                        $(this).addClass('selected');
                        return;
                    }
                })
            }

        }, this));
    }

    //CultureCalendar (캘린더형) 년월일 리스트 정보 호출 : 달력 선택 시
    function fnCultureCalendarDayClick(checkDay){
        // double click 방지
        if ( moreBtnDoubleClickCheck ) return false;

        //일정 선택시 Upcoming, Past 숨김
        $("#cultureCalendar_UpcomingWrap").hide();
        $("#cultureCalendar_PastWrap").hide();

        var checkMonth = checkDay.substring(0, 6);
        var param = {
            checkDay : checkDay,
            yearMon : checkMonth
        }

        moreBtnDoubleClickCheck = true;
        cult.ajax({
            url: '/web/culture/getCultureCalendarDay.hdc',
            type: 'POST',
            data: param
        }).done($.proxy(function(res) {
            moreBtnDoubleClickCheck = false;

            var templateHtml = $('#calendarDayTemplate').html();
            var objTemplate = cult.ejsCompile(templateHtml);
            var viewHtml = objTemplate(res.body);

            $("#cultureCalendar_NowWrap").show();
            $('#cultureCalendar_Now').html(viewHtml);

            $('#cultureCalendar_Now').find(".section-title").hide();

            //현재일자 기준으로 예매/예약 문구 노출 여부 체크
            if(res.body.reservationTypeViewCheck == "Y"){
                $(document).find("#cultureCalendar_Now").find(".badge").find(".status").show();
            }else{
                $(document).find("#cultureCalendar_Now").find(".badge").find(".status").hide();
            }

            //선택한 일자 hidden 등록
            if(checkDay.length == 8){
                var temp_checkDay = fnStringDateFormat(checkDay, "-");
                $("input[name='hid_checkDay']").val(temp_checkDay);
            }

        }, this));
    }
</script>
</body>
</html>