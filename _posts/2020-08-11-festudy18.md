---
title: 18. Abstract Loop & Lazy Execution
layout: post
date: '2020-08-11 02:16'
categories:
- festudy
---

## Abstract Loop & Lazy Execution

Generator 는 동기명령을 중간에 멈출 수 있는 기능이 있다.  
`yield`(이러한 기능을 **suspension**이라 한다.)  
그리고 다시 재진행한다.  

이것이 기본사항이돼서 이를 바탕으로 **루프를 추상화(abstract loop)**한다.  
그리고 **지연실행(lazy execution)**을 배울 것이다.  

**지연실행이라는 것은 함수의 특권이다.**  
여러분이 어떤 제어문을 작성했는데, 그 문이 즉시실행되지 않게 하려면 원래는 함수에 담아두고 나중에 실행한다.  
그럼 실행될 때까지 해당 '문'은 지연된다.  

기본적으로 지연실행이라는 것은 **함수호출 지연실행**인데, 이걸 **함수의 호출지연**말고도 **Generator**를 통해서도 지연시킬 수 있다.  
Generator 는 문이 다 실행되지 않고 빠져나올 수 있기 때문에, **yield 밑에를 실행시키지 않고 지연시킬 수 있다.**

**기존 지연실행이 함수형 프로그래밍의 특징이자 함수형의 특권으로 여겨졌다면,**  
**<span style="color:red">코루틴</span>**을 지원하는 대부분의 언어에서는 **제어문으로 지연실행을 일으킬 수 있다.**  
기존의 복잡한 함수형 프로그래밍 지연 실행을 지금은 다 제어문으로 실행할 수 있는 것이다.

## Abstract Loop

**루프의 추상화**

아니 루프가 루프지 루프를 추상화해? 라고 생각할지도 모르지만, 이미 지난 시간에 iterator 를 통해 루프를 추상화하는 방법을 공부했다.  
루프문을 iterator 객체로 바꿔놓으면 루프를 위한 상태값들을 iterator 객체가 가지고 있기 때문에 언제든지 똑같은 루프를 재현할 수 있게 되고, 
루프문의 역할 또한 크게 줄어드는 것을 알 수 있었다.

**기존의 제어문은 많은 역할이나 책임을 갖고 있었다.**  
**반면 iterator 를 사용한 경우는, 루프문을 더 돌릴지말지, 루프마다 무얼할지, 이런 결정권들이 iterator 객체로 넘어가기 때문에 
훨씬 더 여러번 똑같은 루프를 제어할 수 있는 객체를 만들어낼 수 있다.**

**이러한 장점**을 본격적으로 이용해보려고 하는 것이다.  
이전 시간까지는 이것이 진짜 제어문에 비해서 좋은건가?  
이런 의문이 드는 상태였다면 이번시간에 좀 더 복잡한 루프를 해결해보자는 것이다.