<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>LEE HYUNG JU</title>
    <description>Jekyll Blog</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sun, 31 May 2020 13:38:02 +0900</pubDate>
    <lastBuildDate>Sun, 31 May 2020 13:38:02 +0900</lastBuildDate>
    <generator>Jekyll v4.0.1</generator>
    
      <item>
        <title>17.16 함수를 이용한 교체</title>
        <description>&lt;h2 id=&quot;1716-함수를-이용한-교체&quot;&gt;17.16 함수를 이용한 교체&lt;/h2&gt;

&lt;p&gt;함수를 이용하면 아주 복잡한 정규식을 좀 더 단순한 정규식으로 분할할 수 있어서 필자가 좋아하는 
기능입니다.&lt;/p&gt;

&lt;p&gt;이번에도 HTML 요소를 수정하는 예제를 사용하겠습니다.&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그를 정확한 규격에 맞도록 바꾸는 프로그램을 만든다고 합시다.&lt;br /&gt;
이 규격은 &lt;code class=&quot;highlighter-rouge&quot;&gt;class, id, href&lt;/code&gt; 속성은 허용하지만 나머지 속성은 모두 제거합니다.&lt;br /&gt;
&lt;strong&gt;문제는, 원래 HTML이 어떻게 만들어져 있을지 짐작도 할 수 없다는 겁니다.&lt;/strong&gt;&lt;br /&gt;
허용하는 속성이 항상 있다는 보장도 없고, 모두 있더라도 순서는 뒤죽박죽일 수 있습니다.&lt;br /&gt;
경우의 수는 아주 많지만, 일단 테스트할 문자열을 다음과 같이 만들었습니다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a class=&quot;foo&quot; href=&quot;/foo&quot; id=&quot;foo&quot;&amp;gt;Foo&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;A href='/bar' Class=&quot;bar&quot;&amp;gt;Bar&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a href=&quot;/baz&quot;&amp;gt;Baz&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a onclick=&quot;javascript:alert('qux!')&quot; href=&quot;/qux&quot;&amp;gt;Qux&amp;lt;/a&amp;gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;테스트할 문자열을 보면 &lt;strong&gt;정규식만으로 해결하기는 어렵다&lt;/strong&gt;는 걸 알 수 있을 겁니다.&lt;br /&gt;
경우의 수가 너무 많으니까요.&lt;br /&gt;
하지만 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그를 인식하는 정규식, 그리고 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그의 속성 중에서 필요한 것만 
남기는 정규식 두 개를 쓰면 생각외로 훨씬 간단해집니다.&lt;/p&gt;

&lt;p&gt;두 번째 정규식을 먼저 생각해 봅시다.&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;class, id, href&lt;/code&gt; 속성을 제외한 모든 속성을 제거하는 것만 생각하면 문제는 훨씬 
쉬워집니다.&lt;br /&gt;
정규식&lt;strong&gt;만&lt;/strong&gt; 사용하면 속성의 순서 때문에 문제가 생길 수 있다는 건 앞에서 이미 봤습니다.&lt;br /&gt;
순서 문제를 해결하는 방법은 여러 가지가 있지만, 여기서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;String.prototype.split&lt;/code&gt;을 써서 
한 번에 한 가지 속성만 체크하는 방법을 쓰겠습니다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sanitizeATag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 태그에서 원하는 부분을 뽑아냅니다.&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&amp;lt;a&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;a&amp;gt;/i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// parts[1]은 여는 &amp;lt;a&amp;gt; 태그에 들어있는 속성입니다.&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// parts[2]는 &amp;lt;a&amp;gt;와 &amp;lt;/a&amp;gt; 사이에 있는 텍스트입니다.&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 속성을 분해합니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;+/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;a &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// class, id, href 속성만 필요합니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(?:&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;class|id|href&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)[\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 스페이스 한 칸으로 구분해서 합칩니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 여는 &amp;lt;a&amp;gt; 태그를 완성합니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 텍스트를 추가합니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 마지막으로 태그를 닫습니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 함수는 필요 이상으로 길긴 하지만, 명확히 이해할 수 있도록 나눠서 만들었습니다.&lt;br /&gt;
이 함수에도 정규식을 여러 개 썼습니다.&lt;br /&gt;
하나는 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그의 각 부분을 찾는데 썼고, 다른 하나는 하나 이상의 공백을 찾아 문자열을 분리하는 데 
썼습니다.&lt;br /&gt;
마지막 하나는 우리가 원하는 속성만 남도록 필터하는 데 썼습니다.&lt;br /&gt;
마지막 하나는 우리가 원하는 속성만 남도록 필터하는 데 썼습니다.&lt;br /&gt;
정규식 하나로 이 일을 다 하려 했다면 훨씬 더 어려울 겁니다.&lt;/p&gt;

&lt;p&gt;이제 흥미로운 부분입니다.&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;sanitizeATag&lt;/code&gt; 함수는 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그가 들어있는 HTML 블록에 사용하려고 만들었습니다.&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그를 찾은 정규식은 아주 쉽게 만들 수 있습니다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a class=&quot;foo&quot; href=&quot;/foo&quot; id=&quot;foo&quot;&amp;gt;Foo&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;A href='/bar' Class=&quot;bar&quot;&amp;gt;Bar&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a href=&quot;/baz&quot;&amp;gt;Baz&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a onclick=&quot;javascript:alert('qux!')&quot; href=&quot;/qux&quot;&amp;gt;Qux&amp;lt;/a&amp;gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&amp;lt;a .*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;a&amp;gt;/ig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/learningjs/image181.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그런데 이걸 어떻게 써야 할까요?&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;String.prototype.replace&lt;/code&gt;에는 교체할 매개변수로 &lt;strong&gt;함수&lt;/strong&gt;를 넘길 수 있습니다.&lt;br /&gt;
지금까지는 교체할 매개변수에 문자열만 썼지만, 함수를 사용하면 훨씬 자유롭게 바꿀 수 있습니다.&lt;br /&gt;
예제를 완성하기 전에 먼저 &lt;code class=&quot;highlighter-rouge&quot;&gt;console.log()&lt;/code&gt;를 써서 어떻게 돌아가는지 알아보도록 합시다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a class=&quot;foo&quot; href=&quot;/foo&quot; id=&quot;foo&quot;&amp;gt;Foo&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;A href='/bar' Class=&quot;bar&quot;&amp;gt;Bar&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a href=&quot;/baz&quot;&amp;gt;Baz&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a onclick=&quot;javascript:alert('qux!')&quot; href=&quot;/qux&quot;&amp;gt;Qux&amp;lt;/a&amp;gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sanitizeATag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 태그에서 원하는 부분을 뽑아냅니다.&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&amp;lt;a&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;a&amp;gt;/i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// parts[1]은 여는 &amp;lt;a&amp;gt; 태그에 들어있는 속성입니다.&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// parts[2]는 &amp;lt;a&amp;gt;와 &amp;lt;/a&amp;gt; 사이에 있는 텍스트입니다.&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 속성을 분해합니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;+/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;a &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// class, id, href 속성만 필요합니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(?:&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;class|id|href&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)[\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 스페이스 한 칸으로 구분해서 합칩니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 여는 &amp;lt;a&amp;gt; 태그를 완성합니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 텍스트를 추가합니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 마지막으로 태그를 닫습니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&amp;lt;a .*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;a&amp;gt;/ig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;g1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&amp;lt;a&amp;gt; tag found at &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;. contents: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;g1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/learningjs/image182.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;String.prototype.replace&lt;/code&gt;에 넘기는 함수는 다음 순서대로 매개변수를 받습니다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;m : 일치하는 문자열 전체(&lt;code class=&quot;highlighter-rouge&quot;&gt;$&amp;amp;&lt;/code&gt;와 같습니다.)&lt;/li&gt;
  &lt;li&gt;g1 : 일치하는 그룹(일치하는 것이 있다면), 일치하는 것이 여럿이라면 매개변수도 여러 개를 받습니다.&lt;/li&gt;
  &lt;li&gt;offset : 원래 문자열에서 일치하는 곳의 오프셋(숫자)&lt;/li&gt;
  &lt;li&gt;원래 문자열(거의 사용하지 않습니다.)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;String.prototype.replace&lt;/code&gt;는 함수가 반환하는 값을 써서 원래 문자열을 교체합니다.&lt;br /&gt;
지금 막 해본 예제에서는 콘솔에 출력할 뿐 아무것도 반환하지 않았으므로 &lt;code class=&quot;highlighter-rouge&quot;&gt;undefined&lt;/code&gt;가 반환되고, 
&lt;code class=&quot;highlighter-rouge&quot;&gt;String.prototype.replace&lt;/code&gt;는 &lt;code class=&quot;highlighter-rouge&quot;&gt;undefined&lt;/code&gt;를 &lt;strong&gt;문자열로 바꿔서 사용&lt;/strong&gt;합니다.&lt;br /&gt;
이 예제의 목적은 동작 방식을 이해하는 것이고 실제로 문자열을 교체하는 것은 아니니 결과로 나온 
문자열을 사용하지 않았습니다.&lt;/p&gt;

&lt;p&gt;그럼 이제 원래 예제로 돌아갑시다.&lt;br /&gt;
각 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그를 규격화하는 함수도 만들었고 HTML 블록에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그를 찾는 방법도 알고 있으니, 
그 둘을 합치기만 하면 됩니다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a class=&quot;foo&quot; href=&quot;/foo&quot; id=&quot;foo&quot;&amp;gt;Foo&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;A href='/bar' Class=&quot;bar&quot;&amp;gt;Bar&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a href=&quot;/baz&quot;&amp;gt;Baz&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a onclick=&quot;javascript:alert('qux!')&quot; href=&quot;/qux&quot;&amp;gt;Qux&amp;lt;/a&amp;gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sanitizeATag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 태그에서 원하는 부분을 뽑아냅니다.&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&amp;lt;a&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;a&amp;gt;/i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// parts[1]은 여는 &amp;lt;a&amp;gt; 태그에 들어있는 속성입니다.&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// parts[2]는 &amp;lt;a&amp;gt;와 &amp;lt;/a&amp;gt; 사이에 있는 텍스트입니다.&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 속성을 분해합니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;+/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;a &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// class, id, href 속성만 필요합니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(?:&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;class|id|href&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)[\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 스페이스 한 칸으로 구분해서 합칩니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 여는 &amp;lt;a&amp;gt; 태그를 완성합니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 텍스트를 추가합니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 마지막으로 태그를 닫습니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&amp;lt;a .*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;a&amp;gt;/ig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sanitizeATag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/learningjs/image183.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/static/img/learningjs/image184.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/static/img/learningjs/image185.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;더 단순하게 만들 수도 있습니다.&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;sanitizeATag&lt;/code&gt; 함수는 &lt;code class=&quot;highlighter-rouge&quot;&gt;String.prototype.replace&lt;/code&gt;에서 콜백 함수에 넘기는 매개변수를 그대로 받게 
만들었으므로, 익명함수를 제거하고 &lt;code class=&quot;highlighter-rouge&quot;&gt;sanitizeATag&lt;/code&gt;를 직접 써도 됩니다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a class=&quot;foo&quot; href=&quot;/foo&quot; id=&quot;foo&quot;&amp;gt;Foo&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;A href='/bar' Class=&quot;bar&quot;&amp;gt;Bar&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a href=&quot;/baz&quot;&amp;gt;Baz&amp;lt;/a&amp;gt;\n`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;`&amp;lt;a onclick=&quot;javascript:alert('qux!')&quot; href=&quot;/qux&quot;&amp;gt;Qux&amp;lt;/a&amp;gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sanitizeATag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 태그에서 원하는 부분을 뽑아냅니다.&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&amp;lt;a&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;a&amp;gt;/i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// parts[1]은 여는 &amp;lt;a&amp;gt; 태그에 들어있는 속성입니다.&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// parts[2]는 &amp;lt;a&amp;gt;와 &amp;lt;/a&amp;gt; 사이에 있는 텍스트입니다.&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 속성을 분해합니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;+/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;a &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// class, id, href 속성만 필요합니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(?:&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;class|id|href&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)[\s&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 스페이스 한 칸으로 구분해서 합칩니다.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 여는 &amp;lt;a&amp;gt; 태그를 완성합니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 텍스트를 추가합니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 마지막으로 태그를 닫습니다.&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&amp;lt;a .*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;a&amp;gt;/ig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sanitizeATag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;이 방법을 사용하면 정말 여러 가지가 가능해집니다.&lt;br /&gt;
큰 문자열에서 작은 문자열을 찾고, 찾은 문자열을 가지고 어떤 작업을 해야 한다면 
&lt;code class=&quot;highlighter-rouge&quot;&gt;String.prototype.replace&lt;/code&gt;에 콜백 함수를 넘길 수 있다는 점을 기억하십시오.&lt;/p&gt;

</description>
        <pubDate>Sat, 30 May 2020 13:38:00 +0900</pubDate>
        <link>http://localhost:4000/lj/2020/05/30/javascript257.html</link>
        <guid isPermaLink="true">http://localhost:4000/lj/2020/05/30/javascript257.html</guid>
        
        
        <category>lj</category>
        
      </item>
    
      <item>
        <title>17.15 그룹 교체</title>
        <description>&lt;h2 id=&quot;1715-그룹-교체&quot;&gt;17.15 그룹 교체&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;그룹&lt;/strong&gt;을 사용하면 문자열 교체도 더 다양한 방법으로 할 수 있습니다.&lt;br /&gt;
이번에도 HTML을 예로 들겠습니다.&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그에서 href가 아닌 속성을 전부 제거하고 싶다고 합시다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;a class=&quot;nope&quot; href=&quot;/yep&quot;&amp;gt;Yep&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&amp;lt;a .*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;href=&quot;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&amp;gt;/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;a $1&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/learningjs/image178.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;역참조와 마찬가지로 모든 그룹은 1로 시작하는 숫자를 할당받습니다.&lt;br /&gt;
정규식에서 첫 번째 그룹은 &lt;code class=&quot;highlighter-rouge&quot;&gt;\1&lt;/code&gt;이고, 교체할 문자열에서는 &lt;code class=&quot;highlighter-rouge&quot;&gt;$1&lt;/code&gt;이 첫 번째 그룹에 해당합니다.&lt;br /&gt;
이번에도 &lt;strong&gt;&lt;span style=&quot;color:red&quot;&gt;소극적 일치&lt;/span&gt;&lt;/strong&gt;를 써서 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 태그까지 검색이 확장되는 일을 막았습니다.&lt;br /&gt;
&lt;strong&gt;이 정규식은 &lt;code class=&quot;highlighter-rouge&quot;&gt;href&lt;/code&gt; 속성의 값에 큰 따옴표가 아니라 작은따옴표를 쓴 문자열에서는 아무 것도 찾지 못합니다.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;좀 더 복잡한 예제를 봅시다.&lt;br /&gt;
class 속성과 href 속성을 남기고 나머지는 모두 없애고 싶습니다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;a class=&quot;yep&quot; href=&quot;/yep&quot; id=&quot;nope&quot;&amp;gt;Yep&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/a .*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;class=&quot;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;href=&quot;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;.*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;lt;a $2 $1&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/learningjs/image179.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 정규식에서는 class와 href의 순서를 바꾸므로 결과 문자열에서는 href가 앞에 옵니다.&lt;br /&gt;
&lt;strong&gt;이 정규식은 class 뒤에 href이 있어야만 동작하고, 앞에서와 마찬가지로 속성 값에 작은따옴표를 쓰면 
동작하지 않습니다.&lt;/strong&gt;&lt;br /&gt;
다음 섹션에서 더 좋은 방법을 알아볼 겁니다.&lt;/p&gt;

&lt;h3 id=&quot;더-좋은-방법&quot;&gt;더 좋은 방법&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;$1, $2&lt;/code&gt; 등 숫자로 참조하는 것 외에도 일치하는 것 앞에 있는 전부를 참조하는 &lt;code class=&quot;highlighter-rouge&quot;&gt;$`&lt;/code&gt;, 
일치하는 것 자체인 &lt;code class=&quot;highlighter-rouge&quot;&gt;$&amp;amp;&lt;/code&gt;, 일치하는 것 뒤에 있는 전부를 참조하는 &lt;code class=&quot;highlighter-rouge&quot;&gt;$'&lt;/code&gt; 도 있습니다.&lt;br /&gt;
달러 기호 자체가 필요할 때는 &lt;code class=&quot;highlighter-rouge&quot;&gt;$$&lt;/code&gt;를 씁니다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;One two three&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/two/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;($`)&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// &quot;One (One ) three&quot;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/two/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;($&amp;amp;)&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// &quot;One (two) three&quot;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/two/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;($')&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// &quot;One ( three) three&quot;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/two/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;($$)&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// &quot;One ($) three&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/learningjs/image180.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 기능을 사용하는 사람은 그리 많지 않지만, 필자는 이 기능을 써서 아주 스마트하게 문제를 
해결한 경우를 몇 번 봤습니다.&lt;br /&gt;
잊지 말고 사용해 보십시오.&lt;/p&gt;

</description>
        <pubDate>Sat, 30 May 2020 11:55:00 +0900</pubDate>
        <link>http://localhost:4000/lj/2020/05/30/javascript256.html</link>
        <guid isPermaLink="true">http://localhost:4000/lj/2020/05/30/javascript256.html</guid>
        
        
        <category>lj</category>
        
      </item>
    
      <item>
        <title>compare before &amp; after</title>
        <description>&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/static/img/node/compare/gulpfile.js&quot; target=&quot;_blank&quot;&gt;로컬서버실행 gulpfile.js&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/static/img/node/compare/second.js&quot; target=&quot;_blank&quot;&gt;업데이트 이전 이후 스크린샷 찍기 - second.js&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/static/img/node/compare/last.js&quot; target=&quot;_blank&quot;&gt;스크린샷 비교하기 - last.js&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/static/img/node/compare/package.json&quot; target=&quot;_blank&quot;&gt;package.json&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 29 May 2020 19:00:00 +0900</pubDate>
        <link>http://localhost:4000/node/2020/05/29/node4.html</link>
        <guid isPermaLink="true">http://localhost:4000/node/2020/05/29/node4.html</guid>
        
        
        <category>node</category>
        
      </item>
    
      <item>
        <title>textarea 높이 자동조절</title>
        <description>&lt;p&gt;&lt;a href=&quot;/static/img/script/index.html&quot; target=&quot;_blank&quot;&gt;textarea 높이자동조절&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Fri, 29 May 2020 14:05:00 +0900</pubDate>
        <link>http://localhost:4000/script/2020/05/29/script.html</link>
        <guid isPermaLink="true">http://localhost:4000/script/2020/05/29/script.html</guid>
        
        
        <category>script</category>
        
      </item>
    
      <item>
        <title>file name change3 complete</title>
        <description>&lt;p&gt;&lt;a href=&quot;/static/img/node/fileNameChangeComplete2.js&quot; target=&quot;_blank&quot;&gt;fileNameChange33333&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt; 과 실제 &lt;code class=&quot;highlighter-rouge&quot;&gt;src/html/~.html&lt;/code&gt; 을 비교하여 &lt;code class=&quot;highlighter-rouge&quot;&gt;src/html/~.html&lt;/code&gt;엔 있지만 &lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;에 기재되어있지 않은 파일은 파일명 앞에 &lt;code class=&quot;highlighter-rouge&quot;&gt;999999_&lt;/code&gt;가 붙게하였습니다.&lt;/li&gt;
  &lt;li&gt;기존 &lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;에 기록되어있던 &lt;code class=&quot;highlighter-rouge&quot;&gt;리스트의 순서&lt;/code&gt; 와 &lt;code class=&quot;highlighter-rouge&quot;&gt;묶여있는 항목&lt;/code&gt;이 같도록 했습니다.&lt;/li&gt;
  &lt;li&gt;기존 파일명에 923_filename.html 또는 42_filename.html 또는 6_filename.html 으로 되어있는 경우는 앞에 &lt;code class=&quot;highlighter-rouge&quot;&gt;숫자와 언더바를 지운 후&lt;/code&gt; 파일명이 순서대로 바뀌도록 했습니다.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt; 엔 기재되어있지만 &lt;code class=&quot;highlighter-rouge&quot;&gt;src/html/~.html&lt;/code&gt; 엔 존재하지 않는 파일은 notExit.txt 파일에 기록하여 내보냅니다.&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Thu, 28 May 2020 10:57:00 +0900</pubDate>
        <link>http://localhost:4000/node/2020/05/28/node3.html</link>
        <guid isPermaLink="true">http://localhost:4000/node/2020/05/28/node3.html</guid>
        
        
        <category>node</category>
        
      </item>
    
      <item>
        <title>file name change2 complete</title>
        <description>&lt;p&gt;&lt;a href=&quot;/static/img/node/fileNameChangeComplete.js&quot; target=&quot;_blank&quot;&gt;fileNameChange&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt; 과 실제 &lt;code class=&quot;highlighter-rouge&quot;&gt;src/html/~.html&lt;/code&gt; 을 비교하여 &lt;code class=&quot;highlighter-rouge&quot;&gt;src/html/~.html&lt;/code&gt;엔 있지만 &lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;에 기재되어있지 않은 파일은 파일명 앞에 &lt;code class=&quot;highlighter-rouge&quot;&gt;999999_&lt;/code&gt;가 붙게하였습니다.&lt;/li&gt;
  &lt;li&gt;기존 &lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;에 기록되어있던 &lt;code class=&quot;highlighter-rouge&quot;&gt;리스트의 순서&lt;/code&gt; 와 &lt;code class=&quot;highlighter-rouge&quot;&gt;묶여있는 항목&lt;/code&gt;이 같도록 했습니다.&lt;/li&gt;
  &lt;li&gt;기존 파일명에 923_filename.html 또는 42_filename.html 또는 6_filename.html 으로 되어있는 경우는 앞에 &lt;code class=&quot;highlighter-rouge&quot;&gt;숫자와 언더바를 지운 후&lt;/code&gt; 파일명이 순서대로 바뀌도록 했습니다.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt; 엔 기재되어있지만 &lt;code class=&quot;highlighter-rouge&quot;&gt;src/html/~.html&lt;/code&gt; 엔 존재하지 않는 파일은 git bash창에 에러메시지로 뜹니다. &lt;br /&gt;
에러가 나도 파일명 변경되는 것이 멈추지 않으니 이런 경우는 git bash 창을 통해 확인하면 됩니다.&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Wed, 27 May 2020 18:59:00 +0900</pubDate>
        <link>http://localhost:4000/node/2020/05/27/node2.html</link>
        <guid isPermaLink="true">http://localhost:4000/node/2020/05/27/node2.html</guid>
        
        
        <category>node</category>
        
      </item>
    
      <item>
        <title>file name change</title>
        <description>&lt;p&gt;&lt;a href=&quot;/static/img/node/fileNameChange.js&quot; target=&quot;_blank&quot;&gt;fileNameChange&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 27 May 2020 18:59:00 +0900</pubDate>
        <link>http://localhost:4000/node/2020/05/27/node.html</link>
        <guid isPermaLink="true">http://localhost:4000/node/2020/05/27/node.html</guid>
        
        
        <category>node</category>
        
      </item>
    
      <item>
        <title>ar</title>
        <description>&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/static/img/ar/index.html&quot; target=&quot;_blank&quot;&gt;ar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/static/img/ar/index2.html&quot; target=&quot;_blank&quot;&gt;ar2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ar-js-org.github.io/AR.js/&quot; target=&quot;_blank&quot;&gt;https://ar-js-org.github.io/AR.js/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/AR-js-org/AR.js/blob/master/three.js/examples/nft.html&quot; target=&quot;_blank&quot;&gt;https://github.com/AR-js-org/AR.js/blob/master/three.js/examples/nft.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ar-js-org.github.io/AR.js-Docs/&quot; target=&quot;_blank&quot;&gt;https://ar-js-org.github.io/AR.js-Docs/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;gltf 이미지 파일 구할 수 있는 곳 : &lt;a href=&quot;https://sketchfab.com/3d-models/camera-limits-demo-van-gogh-bedroom-in-arles-daefab319a584e559443e39ff05e84fa&quot; target=&quot;_blank&quot;&gt;https://sketchfab.com/3d-models/camera-limits-demo-van-gogh-bedroom-in-arles-daefab319a584e559443e39ff05e84fa&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://webdoli.tistory.com/111&quot; target=&quot;_blank&quot;&gt;https://webdoli.tistory.com/111&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stemkoski.github.io/AR-Examples/&quot; target=&quot;_blank&quot;&gt;https://stemkoski.github.io/AR-Examples/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stemkoski.github.io/AR.js-examples/index.html&quot; target=&quot;_blank&quot;&gt;https://stemkoski.github.io/AR.js-examples/index.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ko.dupliceopportunita.com/item/web-powered-augmented-reality-a-hands-on-tutorial-7933fe/&quot; target=&quot;_blank&quot;&gt;https://ko.dupliceopportunita.com/item/web-powered-augmented-reality-a-hands-on-tutorial-7933fe/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/jeeliz/jeelizAR#neural-network-models&quot; target=&quot;_blank&quot;&gt;https://github.com/jeeliz/jeelizAR#neural-network-models&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://jeromeetienne.github.io/AR.js/three.js/examples/marker-training/examples/generator.html&quot; target=&quot;_blank&quot;&gt;https://jeromeetienne.github.io/AR.js/three.js/examples/marker-training/examples/generator.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://riptutorial.com/ko/aframe&quot; target=&quot;_blank&quot;&gt;https://riptutorial.com/ko/aframe&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://you-rang.tistory.com/149&quot; target=&quot;_blank&quot;&gt;https://you-rang.tistory.com/149&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/ar/img/hiro.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 27 May 2020 14:30:00 +0900</pubDate>
        <link>http://localhost:4000/ar/2020/05/27/ar.html</link>
        <guid isPermaLink="true">http://localhost:4000/ar/2020/05/27/ar.html</guid>
        
        
        <category>ar</category>
        
      </item>
    
      <item>
        <title>git date extractor 모듈</title>
        <description>&lt;p&gt;git-date-extractor 모듈관련 이슈&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git log &lt;span class=&quot;nt&quot;&gt;--pretty&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;format:%at &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;파일경로&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;tail&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; 1

&lt;span class=&quot;s1&quot;&gt;'tail'&lt;/span&gt;은&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;는&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 내부 또는 외부 명령, 실행할 수 있는 프로그램, 또는
배치 파일이 아닙니다.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;해당 파일의 생성날짜와 최근 변경날짜를 읽어옵니다.&lt;br /&gt;
하지만 맨 뒤 &lt;code class=&quot;highlighter-rouge&quot;&gt;| tail -n 1&lt;/code&gt; 부분의 명령어를 인식 못하는 터미널이 있을 수도 있습니다. &lt;br /&gt;
그런 경우엔 생성날짜와 최근 변경날짜를 모두 0으로 읽어와 index.html 파일에 1970-01-01로 찍히게 됩니다.&lt;br /&gt;
이럴 땐 환경변수를 추가해주면 된다고하는데.. 어려우니 패스..&lt;br /&gt;
그냥 단순하게 git bash창으로 걸프 실행하면 해결 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;터미널 창이라고 해서 모든 git 명령어를 사용할 수 있는 건 아닌가봅니다.&lt;/strong&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 27 May 2020 10:02:00 +0900</pubDate>
        <link>http://localhost:4000/gulp/2020/05/27/git-extractor.html</link>
        <guid isPermaLink="true">http://localhost:4000/gulp/2020/05/27/git-extractor.html</guid>
        
        
        <category>gulp</category>
        
      </item>
    
      <item>
        <title>걸프 scss 폴더 구조 고찰</title>
        <description>&lt;h2 id=&quot;걸프-scss-폴더-구조-고찰&quot;&gt;걸프 scss 폴더 구조 고찰&lt;/h2&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;scss 폴더 트리  
ㄴ component
ㄴ service

생각해볼 문제
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Tue, 26 May 2020 17:55:00 +0900</pubDate>
        <link>http://localhost:4000/issue/2020/05/26/issue3.html</link>
        <guid isPermaLink="true">http://localhost:4000/issue/2020/05/26/issue3.html</guid>
        
        
        <category>issue</category>
        
      </item>
    
  </channel>
</rss>
